{"mappings":"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","sources":["src/js/controller.js"],"sourcesContent":["const newsContainer = document.getElementById(\"newsContainer\");\r\nconst searchInput = document.querySelector(\".search-bar\");\r\nconst paginationContainer = document.querySelector(\".pagination\");\r\nconst overlay = document.querySelector(\".overlay\");\r\nconst no__response = document.querySelector(\".no__response\");\r\n\r\nlet articles = [];\r\nconst api_Key = \"pub_33203cb08a06e22951476db6f94b934a0bcc2\";\r\n// const api_Key = \"pub_33297e3fd461b5dbf32af13a54c4fd3f2c6b4\";\r\n\r\n// const showNews = async function (country) {\r\nconst showNews = async function () {\r\n  searchInput.value = \"\";\r\n\r\n  try {\r\n    const res = await fetch(\r\n      // `https://newsdata.io/api/1/news?apikey=${api_Key}&country=${country}`\r\n      `https://newsdata.io/api/1/news?apikey=${api_Key}`\r\n    );\r\n    if (!res.ok) {\r\n      if (res.status === 429) {\r\n        await new Promise((resolve) => setTimeout(resolve, 5000));\r\n        return showNews();\r\n      } else {\r\n        throw new Error(`${res.statusText} (${res.status})`);\r\n      }\r\n    }\r\n    const data = await res.json();\r\n\r\n    if (data.results && data.results.length > 0) {\r\n      articles = data.results.filter(\r\n        (article) =>\r\n          article.title !== \"null\" &&\r\n          article.language == \"english\" &&\r\n          article.content !== \"null\" &&\r\n          article.description !== null &&\r\n          article.image_url !== null &&\r\n          article.image_url !== undefined &&\r\n          article.pubDate !== undefined &&\r\n          article.image_url !== \"\"\r\n      );\r\n\r\n      displayNews(articles);\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst displayNews = function (articles) {\r\n  articles.forEach((article) => {\r\n    const markup = `\r\n      <article class=\"news-article\" data-title=\"${article.title}\">\r\n        <a class=\"news-card\">\r\n          <div class=\"img__box\">\r\n            <img\r\n              class=\"news-image\"\r\n              src=\"${article.image_url}\"\r\n              alt=\"${article.title}\"\r\n              title=\"${article.title}\"\r\n            />\r\n          </div>\r\n          <div class=\"news-details\">\r\n        <span class=\"country\">${article.country}</span>\r\n\r\n            <h2 class=\"news-title\">${article.title}</h2>\r\n            <div class=\"news-description\">${article.description}</div>\r\n            <div class=\"news-date\">${new Date(\r\n              article.pubDate\r\n            ).toLocaleString()}</div>\r\n          </div>\r\n        </a>\r\n      </article>\r\n    `;\r\n    newsContainer.insertAdjacentHTML(\"afterbegin\", markup);\r\n  });\r\n\r\n  const newsCards = document.querySelectorAll(\".news-article\");\r\n  newsCards.forEach((card) => {\r\n    card.addEventListener(\"click\", cardClick);\r\n  });\r\n\r\n  window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n};\r\n\r\nconst cardClick = function (event) {\r\n  const clickedTitle = event.currentTarget.dataset.title;\r\n  const clickedNews = articles.find(\r\n    (article) => article.title === clickedTitle\r\n  );\r\n\r\n  overlay.innerHTML = \"\";\r\n\r\n  displayPopup(clickedNews);\r\n  overlay.style.display = \"flex\";\r\n};\r\n\r\nconst displayPopup = function (article) {\r\n  const markup = `\r\n    <div class=\"popup\">\r\n      <div class=\"detail__img--box\">\r\n        <span class=\"category\">${article.category}</span>\r\n        <span class=\"close\">&times;</span>\r\n        <img\r\n          class=\"detail__img\"\r\n          src=\"${article.image_url}\"\r\n          alt=\"${article.title}\"\r\n        />\r\n      </div>\r\n      <div class=\"popup__detail\">\r\n         <h3>${article.title}</h3>\r\n        <p class=\"date\">${new Date(article.pubDate).toLocaleString()}</p>\r\n        <p>\r\n        ${article.content}\r\n        </p>\r\n        <a href=\"${\r\n          article.link\r\n        }\"  target=\"_blank\" class=\"news-link\">main source</a>\r\n      </div>\r\n    </div>\r\n    `;\r\n\r\n  overlay.insertAdjacentHTML(\"afterbegin\", markup);\r\n  overlay.style.display = \"block\";\r\n\r\n  const closePopup = document.querySelector(\".close\");\r\n  const PopupCard = document.querySelector(\".popup\");\r\n\r\n  closePopup.addEventListener(\"click\", () => {\r\n    PopupCard.style.animation = \"holeOut .5s ease\";\r\n    setTimeout(() => {\r\n      overlay.style.display = \"none\";\r\n    }, 400);\r\n  });\r\n};\r\n\r\nconst searchNews = async function (query) {\r\n  try {\r\n    const res = await fetch(\r\n      `https://newsdata.io/api/1/news?apikey=${api_Key}&q=${query}`\r\n    );\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`${data.message} (${res.status})`);\r\n    }\r\n    articles = data.results.filter(\r\n      (article) =>\r\n        article.title !== \"null\" &&\r\n        article.content !== \"null\" &&\r\n        article.language == \"english\" &&\r\n        article.description !== null &&\r\n        article.image_url !== null &&\r\n        article.image_url !== undefined &&\r\n        article.pubDate !== undefined &&\r\n        article.image_url !== \"\"\r\n    );\r\n    displayNews(articles);\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\n// searchInput.addEventListener(\"input\", function (event) {\r\n//   const query = event.target.value;\r\n//   setTimeout(() => {\r\n//     searchNews(query);\r\n//   }, 500);\r\n// });\r\n\r\nsearchInput.addEventListener(\"keydown\", function (event) {\r\n  if (event.key === \"Enter\") {\r\n    const query = event.target.value;\r\n    searchNews(query);\r\n  }\r\n});\r\n\r\nconst filterNews = async function (category) {\r\n  searchInput.value = \"\";\r\n\r\n  try {\r\n    const res = await fetch(\r\n      `https://newsdata.io/api/1/news?apikey=${api_Key}&category=${category}`\r\n    );\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`${data.message} (${res.status})`);\r\n    }\r\n    articles = data.results.filter(\r\n      (article) =>\r\n        article.title !== \"null\" &&\r\n        article.content !== \"null\" &&\r\n        article.language == \"english\" &&\r\n        article.description !== null &&\r\n        article.image_url !== null &&\r\n        article.image_url !== undefined &&\r\n        article.pubDate !== undefined &&\r\n        article.image_url !== \"\"\r\n    );\r\n\r\n    displayCategory(articles, category);\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nconst displayCategory = function (articles, category) {\r\n  newsContainer.innerHTML = \"\";\r\n  searchInput.value = \"\";\r\n\r\n  articles.forEach((article) => {\r\n    const markup = `\r\n        <article  class=\"news-article\">\r\n          <a href=\"${article.link}\" class=\"news-card\" target=\"_blank\">\r\n            <div class=\"img__box\">\r\n              <img\r\n                class=\"news-image\"\r\n                src=\"${article.image_url}\"\r\n                alt=\"${article.title}\"\r\n                title=\"${article.title}\"\r\n              />\r\n            </div>\r\n            <div class=\"news-details\">\r\n              <div class=\"news-category\">${category}</div>\r\n              <h2 class=\"news-title\">${article.title}</h2>\r\n              <div class=\"news-description\">${article.description}</div>\r\n              <div class=\"news-date\">${article.pubDate}</div>\r\n            </div>\r\n          </a>\r\n        </article>\r\n      `;\r\n    newsContainer.insertAdjacentHTML(\"afterbegin\", markup);\r\n  });\r\n\r\n  window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n};\r\n\r\n// showNews('us');\r\nshowNews();\r\n"],"names":[],"version":3,"file":"index.62406edb.js.map","sourceRoot":"/__parcel_source_root/"}